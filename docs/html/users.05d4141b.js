function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequire3a97;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},t.parcelRequire3a97=o),o.register("27Lyk",(function(t,n){var r,o;e(t.exports,"register",(()=>r),(e=>r=e)),e(t.exports,"resolve",(()=>o),(e=>o=e));var a={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)a[t[n]]=e[t[n]]},o=function(e){var t=a[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),o("27Lyk").register(JSON.parse('{"4d2TU":"users.05d4141b.js","fudG5":"cat.099c148c.png","S7XuS":"elephant.fa51bf24.png","cmZiW":"turtle.bbf3eac3.png"}'));const a="https://slutprojekt-js2-default-rtdb.europe-west1.firebasedatabase.app/";async function c(){const e=a+".json",t=await fetch(e);return await t.json()}const i=localStorage.getItem("loggedInUser");var s={};s=new URL("../"+o("27Lyk").resolve("fudG5"),import.meta.url).toString();var l={};l=new URL("../"+o("27Lyk").resolve("S7XuS"),import.meta.url).toString();var d={};function u(e,t,n){const r=document.createElement("div");r.classList.add("post");const o=document.createElement("div");o.classList.add("userNameAndPic");const a=document.createElement("img");let c;a.classList.add("profilepic"),c="profilepic"in t&&"cat.png"==t.profilepic?new URL(s):"profilepic"in t&&"elephant.png"==t.profilepic?new URL(l):new URL(d),a.src=c.href;const i=document.createElement("div");i.classList.add("username"),i.innerText=t.username,o.append(a,i);const u=document.createElement("div");u.classList.add("message"),u.innerText=e.message;const p=document.createElement("div");p.classList.add("timestamp");const m=new Date(e.timestamp);p.innerText=`${m.toLocaleDateString()} ${m.toLocaleTimeString()}`,r.append(o,u,p),n.append(r)}d=new URL("../"+o("27Lyk").resolve("cmZiW"),import.meta.url).toString();const p=document.querySelector(".log-out-btn"),m=document.querySelector(".profile-btn"),f=document.querySelector(".feed-btn");const g=localStorage.getItem("loggedInUser"),L=location.search,w=new URLSearchParams(L).get("name");w==g?location.assign("./profile.html"):(async function(){const e=document.querySelector(".userinfo");(await c()).forEach((t=>{if(t&&t.username===i){const n=document.createElement("p"),r=document.createElement("img");let o;e.append(n,r),n.innerText=t.username,o="cat.png"==t.profilepic?new URL(s):"elephant.png"==t.profilepic?new URL(l):new URL(d),r.src=o.href}}))}(),async function(e){const t=document.querySelector(".user-card");document.querySelector(".user-card h3").innerText=e,(await c()).forEach((n=>{if(n&&n.username===e){const e=document.createElement("img");let r;t.append(e),r="cat.png"==n.profilepic?new URL(s):"elephant.png"==n.profilepic?new URL(l):new URL(d),e.src=r.href}}))}(w),async function(){const e=document.querySelector("#clicked-user-posts");e.innerHTML="";(await c()).forEach((t=>{t&&t.username===w&&t.posts.reverse().forEach((n=>{u(n,t,e)}))}))}());const h=document.querySelector("#clicked-user-name");h&&(h.innerText=`${w}s profil`),p.addEventListener("click",(()=>{localStorage.removeItem("loggedInUser"),location.assign("../index.html")})),f.addEventListener("click",(()=>{location.assign("./feed.html")})),m.addEventListener("click",(()=>{location.assign("./profile.html")}));
//# sourceMappingURL=users.05d4141b.js.map
