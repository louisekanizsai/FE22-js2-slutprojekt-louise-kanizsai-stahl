function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},o={},a=n.parcelRequire3a97;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in o){var t=o[e];delete o[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},n.parcelRequire3a97=a),a.register("27Lyk",(function(t,n){var r,o;e(t.exports,"register",(()=>r),(e=>r=e)),e(t.exports,"resolve",(()=>o),(e=>o=e));var a={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)a[t[n]]=e[t[n]]},o=function(e){var t=a[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),a("27Lyk").register(JSON.parse('{"7YPdq":"feed.551464c7.js","fudG5":"cat.099c148c.png","S7XuS":"elephant.fa51bf24.png","cmZiW":"turtle.bbf3eac3.png","3gJ8R":"profile.5fc18753.js"}'));const s="https://slutprojekt-js2-default-rtdb.europe-west1.firebasedatabase.app/";async function c(){const e=s+".json",t=await fetch(e);return await t.json()}const i=localStorage.getItem("loggedInUser");var l={};l=new URL("../"+a("27Lyk").resolve("fudG5"),import.meta.url).toString();var d={};d=new URL("../"+a("27Lyk").resolve("S7XuS"),import.meta.url).toString();var u={};function m(e,t,n){const r=document.createElement("div");r.classList.add("post");const o=document.createElement("div");o.classList.add("userNameAndPic");const a=document.createElement("img");let s;a.classList.add("profilepic"),s="profilepic"in t&&"cat.png"==t.profilepic?new URL(l):"profilepic"in t&&"elephant.png"==t.profilepic?new URL(d):new URL(u),a.src=s.href;const c=document.createElement("div");c.classList.add("username"),c.innerText=t.username,o.append(a,c);const i=document.createElement("div");i.classList.add("message"),i.innerText=e.message;const m=document.createElement("div");m.classList.add("timestamp");const f=new Date(e.timestamp);m.innerText=`${f.toLocaleDateString()} ${f.toLocaleTimeString()}`,r.append(o,i,m),n.append(r)}u=new URL("../"+a("27Lyk").resolve("cmZiW"),import.meta.url).toString();const f=document.querySelector(".log-out-btn"),p=document.querySelector(".profile-btn");document.querySelector(".feed-btn");const g=localStorage.getItem("loggedInUser");var w=a("45fvw");g?(async function(){const e=document.querySelector(".userinfo");(await c()).forEach((t=>{if(t&&t.username===i){const n=document.createElement("p"),r=document.createElement("img");let o;e.append(n,r),n.innerText=t.username,o="cat.png"==t.profilepic?new URL(l):"elephant.png"==t.profilepic?new URL(d):new URL(u),r.src=o.href}}))}(),async function(){const e=document.querySelector(".all-users");(await c()).forEach((t=>{t&&e.append(function(e){const t=document.createElement("a");return t.innerText=e.username,t.addEventListener("click",(()=>{const t=new URL("./users.html",window.location.href);t.searchParams.set("name",e.username),location.assign(t.href)})),t}(t))}))}(),async function(){const e=document.querySelector(".feed"),n=[];(await c()).forEach((e=>{if(e){const t=e.username,r=e.profilepic;e.posts.forEach((e=>{const o=e.message,a=e.timestamp;n.push({username:t,profilepic:r,message:o,timestamp:a})}))}})),n.sort(((e,n)=>t(w)(n.timestamp,"YYYY-MM-DD HH:mm:ss").diff(t(w)(e.timestamp,"YYYY-MM-DD HH:mm:ss")))),n.forEach((t=>{m(t,t,e)}))}()):location.assign("../index.html"),f.addEventListener("click",(()=>{localStorage.removeItem("loggedInUser"),location.assign("../index.html")})),p.addEventListener("click",(()=>{location.assign("./profile.html")}));
//# sourceMappingURL=feed.551464c7.js.map
